<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">#cameraControls{display:flex;justify-content:space-between;width:20vh;position:absolute;right:4vh;bottom:4vh;padding-top:7vh;transform:translateZ(0);z-index:5;transition:opacity .5s .5s,transform .5s .5s}#cameraControls a{cursor:pointer;width:6vh;height:6vh;line-height:5.9vh;text-align:center;border-radius:50%;background:#337933 radial-gradient(circle at center,transparent,rgba(0,0,0,.333));font-size:3vh}#camUp{position:absolute;left:50%;top:0;margin-left:-3vh;transform:rotate(90deg)}#camDefault{transform:rotate(-90deg)}.checkerSelect #cameraControls,.overview #cameraControls{transition:opacity .5s,transform .5s;opacity:0;transform:translate3d(100%,0,0)}#status{width:100%;position:absolute;left:0;bottom:0;margin:0;padding:5vh 4vh;text-align:center;font-size:3.4vh;opacity:0;background:linear-gradient(0deg,rgba(0,0,0,.5),rgba(0,0,0,.8));transform:translate3d(0,100%,0);transition:opacity .4s,transform .4s ease-in-out}#status.show{opacity:1;transform:translateZ(0)}.checker{position:absolute;left:0;top:0;z-index:1;display:block;transition:opacity .45s,transform .45s ease-in-out .18s,background-color .27s;border-radius:50%;background-color:#494949;background-image:radial-gradient(circle at center,transparent,rgba(0,0,0,.333))}.king{border:1vh solid #ea0;margin-top:.3vh!important}.hostile{background-color:#933}.suppressTrans{transition:none}.checkerSelect .checker{opacity:.25}.checkerSelect .playableChecker{opacity:1;cursor:pointer;transition:background-color .27s}.checkerSelect .playableChecker:hover{background-color:#393}.tile{position:relative;display:block;background-image:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,.2))}.validMove{cursor:pointer;background:green}#board{display:flex;flex-wrap:wrap;position:absolute;left:50%;top:50%;transition:transform .81s}.overview #board{xtransition:transform 2.4s cubic-bezier(0,.25,1,1)}.checkerCountWrapper{position:absolute;left:8vh;display:inline-block;height:6vh;line-height:6vh;padding:0 3vh 0 7vh;background:#333;border-radius:1vh;transform:translateZ(0);z-index:10}.allies{bottom:16.5vh;transition:opacity .45s .3s,transform .45s .3s}.hostiles{bottom:5.5vh;transition:opacity .45s .45s,transform .45s .45s}.checkerSelect .allies,.checkerSelect .hostiles{opacity:0;transform:translate3d(-200%,0,0)}.checkerCount{position:absolute;left:-4vh;top:-1.5vh;transform:translateZ(0);width:9vh;height:9vh;line-height:9vh;text-align:center;background:#333;border-radius:50%}.gameOver{position:fixed;left:0;top:0;width:100vw;height:100vh;transform:translateZ(0);z-index:-50;opacity:0;transition:opacity .4s}.gameOver.show{z-index:50;opacity:1;background:rgba(0,0,0,.6) linear-gradient(0deg,transparent,rgba(0,0,0,.4))}.divider,.gameOverText,.playAgain,.stat{opacity:0}.gameOverText,.stats{width:100vh;margin-left:auto;margin-right:auto;padding-left:8vh}.stats{margin-top:5vh}.stat{position:relative;width:35vh;line-height:4vh;padding-top:.5vh;border-radius:1vh;color:#bbb;font-style:italic;transform:translate3d(-4vh,0,0);transition:transform .32s ease-in-out,opacity .32s ease-in-out}.stat:first-child{transition-delay:1.2s}.stat:nth-child(2){transition-delay:1.35s}.stat:nth-child(3){transition-delay:1.5s}.statVal{position:absolute;right:0;top:0;display:inline-block;text-align:right;margin-left:2vh;font-size:4vh;font-style:normal;font-weight:700;color:#fff}.gameOverText{margin-top:18vh;font-size:8vh;transform:translate3d(0,7vh,0);transition:transform 2.4s cubic-bezier(0,.6,.85,1),opacity .9s ease-in-out}.playAgain{display:block;width:26vh;height:10vh;margin:6vh auto 0;text-align:center;background:#337933 radial-gradient(circle at center,transparent,rgba(0,0,0,.333));line-height:10vh;font-size:2.8vh;border-radius:1vh;cursor:pointer;transform:scale3d(.9,.9,1);opacity:0;box-shadow:0 .25vh .5vh rgba(0,0,0,.333);transition:transform .32s ease-in-out 1.8s,opacity .32s 1.8s}.divider{border:0;width:1vh;height:1px;margin:6vh auto;background:linear-gradient(90deg,transparent,#fff,transparent);transition:width .55s ease-in-out 1.2s,opacity .55s 1.2s}.show .gameOverText,.show .stat{opacity:1;transform:translateZ(0)}.show .playAgain{opacity:1;transform:scaleX(1)}.show .divider{width:100vh;opacity:1}*{box-sizing:border-box;cursor:default;webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body{margin:0;padding:0;width:100vw;background:#f0fcf9;background-image:linear-gradient(20deg,rgba(0,0,0,.2),transparent,rgba(0,0,0,.15)),linear-gradient(60deg,rgba(0,0,0,.15),transparent,rgba(0,0,0,.3),transparent);color:#fff;font-family:sans-serif;font-size:2.5vh}#viewport,body{height:100vh;overflow:hidden}#viewport{position:relative;width:100vh;margin:0 auto}</style></head>

<body>
<script type="text/javascript">!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function r(e){return"function"==typeof e}function i(e){return r(u[e])}Object.defineProperty(t,"__esModule",{value:!0});var a={},u={};t.default={get:function(){var e=this,t=Array.from(arguments),n={},i=function(t){return r(t)?t.bind(e)():t};if(1===t.length){var a=u[t[0]];return i(a)}return t.map(function(e){var t=u[e];n[e]=i(t)}),n},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e),r=[];n.map(function(n){if(i(n))console.warn("'"+n+"' is a derived property and can not be explicitly set.");else{if(u[n]===e[n])return u[n];if(u[n]=e[n],a[n]&&!1===t){var o=a[n].map(function(t){return{action:t,value:e[n]}});r=r.concat(o)}}}),r.map(function(e){return e.action(e.value)})},watch:function(e,t){if(i(e))return void console.warn("'"+e+"' is a derived property and can not be watched.");a[e]||(a[e]=[]),a[e].push(t)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(a),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return r(this,e),this.el=document.createElement(t),this}return i(e,[{key:"destructor",value:function(){this.el.parentNode.removeChild(this.el)}},{key:"classify",value:function(e){var t=this;return e&&e.split(" ").map(function(e){var n=e.charAt(0),r=e.substr(1,e.length);"-"===n?t.el.classList.remove(r):"~"===n?t.el.classList.toggle(r):"+"===n?t.el.classList.add(r):t.el.classList.add(e)}),this}},{key:"attribute",value:function(e){var t=this;return Object.keys(e).map(function(n){t.el[n]=e[n]}),this}},{key:"kids",value:function(){var e=this,t=Array.from(arguments);return 1===t.length&&t[0].length&&(t=t[0]),t.map(function(t){e.el.appendChild(t)}),this}},{key:"gut",value:function(){for(;this.el.lastChild;)this.el.removeChild(this.el.lastChild);return this}},{key:"style",value:function(e){var t=this;return Object.keys(e).map(function(n){t.el.style[n]=e[n]}),this}},{key:"text",value:function(e){return this.el.innerText=e,this}},{key:"onClick",value:function(e,t){return this.clickHandler||(this.clickHandler=new u.default(this.el)),this.clickHandler.onClick(e,t)}},{key:"onTrans",value:function(e){var t=this,n=function n(r){var i=r.target,a=i.isEqualNode(t.el),u=i.classList.contains("transitioning");a&&!u&&(t.el.removeEventListener("transitionend",n),e())};this.el.addEventListener("transitionend",n)}},{key:"onAnim",value:function(e){var t=this,n=function n(r){r.target.isEqualNode(t.el)&&(t.el.removeEventListener("animationend",n),e())};this.el.addEventListener("animationend",n)}}]),e}();t.default=o},function(e,t,n){"use strict";function r(){c.default.set({isTurn:!c.default.get("isTurn"),allyAction:null})}function i(e){var t=e.checker;if(!e.jumped)return void r();var n=t.getJumps();if(n.length>0)return void setTimeout(function(){a(u(n))},75);r()}function a(e){if(e){var t=e.checker,n=e.toX,r=e.toY,a=e.jumped,u=c.default.get("cameraPosition"),o=function(){t.animateTo(n,r,function(){return i(e)}),a&&a.removeFromPlay()};"camOverview"!==u?c.default.get("board").onTrans(function(){return o()}):o(),c.default.set({cameraPosition:"camOverview"})}}function u(e){return e[Math.floor(Math.random()*e.length)]}function o(e){return e[Math.floor(Math.random()*e.length)]}function l(e){var t=[];e.map(function(e){e.getActions().length>0&&(t=t.concat(e.getActions()))});var n=t.filter(function(e){return e.jumped});return n.length>0?u(n):o(t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={action:l,go:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var n=h.default.get("boardCols"),r=function(e){return e>-1&&e<n};return r(e)&&r(t)}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),d=n(0),h=r(d),v=n(4);n(21),h.default.set({checkerSize:function(){return this.get("tileSize")-2*this.get("tileBuffer")},checkersPerTeam:function(){var e=this.get("boardCols");return e/2*(e/2-1)}},!0);var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"i")),r=["+checker"],u=e.isHostile,o=e.x,l=e.y,s=h.default.get("checkerSize")+"vh";return u&&(n.isHostile=!0,r.push("+hostile")),n.classify(r.join(" ")),n.style({width:s,height:s,margin:h.default.get("tileBuffer")+"vh"}),n.position(o,l),n}return u(t,e),s(t,[{key:"makePlayer",value:function(){this.isPlayer=!0,this.classify("+playerChecker")}},{key:"makeKing",value:function(){var e=this.isHostile?h.default.get("boardCols")-1:0;this.isKing||this.y!==e||(this.isKing=!0,this.classify("+king"))}},{key:"isJump",value:function(e){return Math.abs(e-this.x)>1}},{key:"checkPosition",value:function(e,t){return!!o(e,t)&&{x:e,y:t,occupant:h.default.get("checkerPositions")[e][t]}}},{key:"getUpLeft",value:function(){return this.checkPosition(this.x-1,this.y-1)}},{key:"getUpRight",value:function(){return this.checkPosition(this.x+1,this.y-1)}},{key:"getDownRight",value:function(){return this.checkPosition(this.x+1,this.y+1)}},{key:"getDownLeft",value:function(){return this.checkPosition(this.x-1,this.y+1)}},{key:"getRange",value:function(){var e=[this.getDownLeft(),this.getDownRight()],t=[this.getUpLeft(),this.getUpRight()];return this.isKing?e.concat(t):this.isHostile?e:t}},{key:"getMoves",value:function(){var e=this;return this.getRange().map(function(t){if(!t)return!1;var n=t.x,r=t.y;return!t.occupant&&{checker:e,toX:n,toY:r}}).filter(function(e){return e})}},{key:"getJumps",value:function(){var e=this;return this.getRange().map(function(t){var n=t.x,r=t.y,i=t.occupant;if(!i||i.isHostile===e.isHostile)return!1;var a=n-e.x,u=r-e.y,o=n+a,l=r+u,s=e.checkPosition(o,l);return!(!s||s.occupant)&&{checker:e,toX:o,toY:l,jumped:i}}).filter(function(e){return e})}},{key:"getActions",value:function(){var e=this.getJumps();return e.length>0?e:this.getMoves()}},{key:"removeFromPlay",value:function(){var e=h.default.get("checkerPositions"),t=[].concat(h.default.get("checkers")),n=t.indexOf(this);t.splice(n,1);var r={checkers:t};e[this.x][this.y]=!1,this.isPlayer&&(r.playerChecker=!1),this.destructor(),h.default.set(r)}},{key:"animateTo",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,i=h.default.get("tileSize"),a=(e-this.x)*i,u=(t-this.y)*i;this.onTrans(function(){n.classify("+suppressTrans"),n.position(e,t),n.style({transform:"unset"}),r(),setTimeout(function(){return n.classify("-suppressTrans")},50)}),this.style({transform:(0,v.translate3d)(a,u)})}},{key:"position",value:function(e,t){var n=this,r=h.default.get("tileSize"),i=e*r,a=t*r;this.style({left:i+"vh",top:a+"vh"});var u=h.default.get("checkerPositions");this.x>=0&&(u[this.x][this.y]=!1),u[e][t]=this,h.default.set({checkerPositions:u}),this.x=e,this.y=t,setTimeout(function(){return n.makeKing()},0)}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return"translate3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"vh, "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"vh, "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+"vh)"},i=function(){return"rotateX("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},a=function(){return"rotateY("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},u=function(){return"rotateZ("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},o=function(e){return"perspective("+e+"vh)"},l=function(){return"scale3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+", "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)+")"};t.translate3d=r,t.rotateX=i,t.rotateY=a,t.rotateZ=u,t.perspective=o,t.scale3d=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),l=r(o),s=n(0),c=r(s);n(24);var f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=c.default.get("tileSize"),o=0===e?0:u;return r.classify("+tile"),r.attribute({id:"x"+e+"-y"+n}),r.style({width:u+"vh",height:u+"vh",marginLeft:o+"vh"}),r.x=e,r.y=n,r}return u(t,e),t}(l.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),a=r(i),u=n(8),o=r(u);n(34);var l=new a.default("main");l.attribute({id:"viewport"}),l.kids(o.default.el),document.body.appendChild(l.el)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=this;e.preventDefault();var n=e.target,r=Object.keys(this.actions);r&&r.map(function(r){n.matches(r)&&t.actions[r].map(function(t){return t(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){if(r(this,e),!t||"object"!==(void 0===t?"undefined":a(t)))return void console.warn("A wrapperEl must be provded to a click-handler: "+t);this.actions={},t.addEventListener("click",i.bind(this))}return u(e,[{key:"onClick",value:function(e,t){this.actions[e]||(this.actions[e]=[]),this.actions[e].push(t)}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),u=n(9),o=r(u);n(13);var l=n(15),s=r(l),c=n(18),f=r(c),d=n(27),h=r(d),v=n(31),p=r(v),y=new a.default;y.attribute({id:"game"}),y.kids(f.default.el,o.default.el,h.default.el,p.default.el,s.default.el),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){l.default.set({cameraPosition:e.target.id})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),o=n(0),l=r(o);n(11),n(12);var s=[{id:"camRight",innerHTML:"&laquo;"},{id:"camDefault",innerHTML:"&laquo;"},{id:"camLeft",innerHTML:"&raquo;"},{id:"camUp",innerHTML:"&laquo;"}],c=new u.default;c.attribute({id:"cameraControls"}),c.kids(function(){return s.map(function(e){var t=new u.default("a");return t.attribute(e),t.classify("+cameraOption"),t.el})}()),c.onClick(".cameraOption",i),t.default=c},function(e,t,n){"use strict";function r(e,t,n){return t-e*n}var i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);a.default.set({cameraPosition:"",focusX:0,focusY:0,camSelectable:function(){var e=this.get("camDefault"),t=this.get("tileSize"),n=this.get("boardCols")/2,i=n+1,u=(n-1)*t;return Object.assign({},e,{perspective:a.default.get("boardScale"),rotateX:30,moveX:0,moveY:r(i,u,t),scaleX:.54,scaleY:.54})},camDefault:function(){var e=this.get("tileSize"),t=this.get("boardCols")/2,n=t*e-e/2,i=t*e;return{perspective:100,rotateX:60,rotateZ:0,moveX:r(this.get("focusX"),n,e),moveY:r(this.get("focusY"),i,e),moveZ:0,scaleX:1.5,scaleY:1.5,scaleZ:1}},camLeft:function(){var e=this.get("camDefault"),t=this.get("tileSize");return Object.assign({},e,{rotateX:55,rotateZ:35,moveX:e.moveX+t,moveY:e.moveY-t})},camRight:function(){var e=this.get("camDefault"),t=this.get("tileSize");return Object.assign({},e,{rotateX:55,rotateZ:-35,moveX:e.moveX-t,moveY:e.moveY-t})},camUp:function(){var e=this.get("camDefault"),t=this.get("tileSize");return Object.assign({},e,{rotateX:40,moveY:e.moveY-2*t,scaleX:1.5,scaleY:1.5})},camOverview:function(){var e=this.get("camSelectable");this.get("tileSize");return Object.assign({},e,{rotateX:50,rotateZ:-5})},camOverviewSpin:function(){var e=this.get("camOverview");return Object.assign({},e,{rotateZ:-60})}},!0)},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(!u.default.get("playerChecker"))return void u.default.set({doCheckerSelect:!0});if(e)(0,l.default)();else{var t=u.default.get("hostileCheckers");if(0===t.length)return void u.default.set({youWon:!0});c.default.go(c.default.action(t))}}var a=n(0),u=r(a),o=n(14),l=r(o),s=n(2),c=r(s);u.default.set({isTurn:!1},!0),u.default.watch("isTurn",i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e){var t=e.x,n=e.y,r=e.isKing?"camUp":"camDefault";h.default.set({focusX:t,focusY:n,cameraPosition:r})}}function a(){h.default.set({isTurn:!1})}function u(){p.default.go(h.default.get("allyAction")),h.default.set({playerActions:[]})}function o(){var e=s();return!!(e.length>0&&e[0].jumped)&&(h.default.set({playerActions:e}),!0)}function l(e,t){var n=h.default.get("playerChecker"),r=h.default.get("playerActions").filter(function(n){return n.toX===e&&n.toY===t})[0];r.jumped&&r.jumped.removeFromPlay(),h.default.set({playerActions:[],allyAction:null,focusX:e,focusY:t}),n.animateTo(e,t,function(){h.default.set({tileSelected:null},!0),r.jumped?!1===o()&&a():a()})}function s(){return h.default.get("playerChecker").getActions()}function c(){h.default.set({movesToWin:h.default.get("movesToWin")+1},!0);var e=h.default.get("playerChecker"),t=s(),n=p.default.action(h.default.get("allyCheckers").filter(function(e){return!e.isPlayer})),r={checker:e,toX:e.x,toY:e.y},a=t.length>0&&t[0].jumped,o=n&&n.jumped;if(h.default.set({allyAction:n},!0),o&&!a||0===t.length&&!o)return t=[],void u();n&&a===o&&t.push(r),i(e),h.default.set({playerActions:t})}function f(e){var t=e.x,n=e.y,r=h.default.get("playerChecker"),i=r.x,a=r.y;if(t===i&&n===a)return void u();l(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),h=r(d),v=n(2),p=r(v);h.default.set({respawns:0,movesToWin:0},!0),h.default.watch("playerChecker",i),h.default.watch("tileSelected",f),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(!e)return s.onTrans(function(){return s.el.innerText=""}),void s.classify("-show");s.el.innerText=e,s.classify("+show")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),o=n(0),l=r(o);n(17);var s=new u.default("p");s.attribute({id:"status"}),l.default.watch("status",i),t.default=s},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.map(function(e){return e.el})}function a(e){u("camOverview"===e);var t=p.default.get(e),n=[(0,h.perspective)(t.perspective),(0,h.rotateX)(t.rotateX),(0,h.rotateZ)(t.rotateZ),(0,h.scale3d)(t.scaleX,t.scaleY,t.scaleZ),(0,h.translate3d)(t.moveX,t.moveY,t.moveZ)];g.style({transform:n.join(" ")})}function u(e){e?y.classList.add("overview"):y.classList.remove("overview")}function o(e){var t=p.default.get("allyCheckers");return 0===t.length?void p.default.set({youWon:!1}):e?(p.default.get("allyCheckers").map(function(e){e.classify("+playableChecker")}),p.default.set({cameraPosition:"camSelectable",isTurn:!1,status:"Select your checker."}),void y.classList.add("checkerSelect")):(t.map(function(e){return e.classify("-playableChecker")}),y.classList.remove("checkerSelect"),void p.default.set({isTurn:!0}))}function l(e){var t=p.default.get("tiles");e&&0!==e.length||t.map(function(e){return e.classify("-validMove")}),e.map(function(e){var n=e.toX,r=e.toY;t.filter(function(e){var t=e.x,i=e.y;return t===n&&i===r})[0].classify("+validMove")})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=r(s),f=n(20),d=n(23),h=n(4),v=n(0),p=r(v);n(26);var y=document.body;p.default.set({boardCols:8,boardScale:170,tileBuffer:2.5,tileSize:function(){return this.get("boardScale")/this.get("boardCols")},gameStarted:new Date},!0);var g=function(){var e=new c.default,t=p.default.get("tileSize")*p.default.get("boardCols"),n=t/2;return e.attribute({id:"board"}),e.style({width:t+"vh",height:t+"vh",marginLeft:"-"+n+"vh",marginTop:"-"+n+"vh"}),p.default.set({board:e},!0),e}(),m=i((0,d.renderTiles)()),b=i((0,f.renderCheckers)());g.kids(m.concat(b)),g.onClick(".playableChecker",function(e){var t=e.target,n=p.default.get("checkers").filter(function(e){return e.el.isEqualNode(t)})[0];n.makePlayer(),p.default.set({playerChecker:n,doCheckerSelect:!1,status:null,respawns:p.default.get("respawns")+1})}),g.onClick(".validMove",function(e){var t=e.target,n=t.id,r=n.split("-"),i=parseInt(r[0].replace("x",""),10),a=parseInt(r[1].replace("y",""),10);p.default.set({tileSelected:{x:i,y:a}})}),p.default.watch("cameraPosition",a),p.default.watch("doCheckerSelect",o),p.default.watch("playerActions",l),p.default.watch("focusX",function(){a("camDefault"),p.default.set({cameraPosition:"camDefault"},!0)}),p.default.set({isTurn:!0}),t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderCheckers=void 0;var i=n(3),a=r(i),u=n(22),o=r(u);t.default=a.default,t.renderCheckers=o.default},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=l.default.get("checkersPerTeam"),t=[],n=0,r=l.default.get("boardCols"),i=r-1,a=[],o=0;o<r;o++)a[o]=[];l.default.set({checkerPositions:a},!0);for(var s=0;s<e;s++){s>0&&s%4==0&&(n++,i--);var c=n%2,f=i%2,d=s%4*2,h=d+c,v=new u.default({isHostile:!0,x:h,y:n}),p=d+f,y=new u.default({x:p,y:i});t.push(v,y)}return l.default.set({checkers:t}),t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=r(a),o=n(0),l=r(o);l.default.set({checkerPositions:[],allyCheckers:function(){return this.get("checkers").filter(function(e){return!e.isHostile})},hostileCheckers:function(){return this.get("checkers").filter(function(e){return e.isHostile})}}),t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderTiles=void 0;var i=n(5),a=r(i),u=n(25),o=r(u);t.default=a.default,t.renderTiles=o.default},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=l.default.get("boardCols"),t=e*e/2,n=0,r=0,i=[],a=0;a<t;a++){n>=e&&(r++,n=r%2);var o=new u.default(n,r);i.push(o),n+=2}return l.default.set({tiles:i}),i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=r(a),o=n(0),l=r(o);t.default=i},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),u=n(29),o=r(u);n(30);var l=new o.default("allyCheckers","Allies"),s=new o.default("hostileCheckers","Hostiles"),c=new a.default;c.attribute({id:"counts"}),l.classify("+allies"),s.classify("+hostiles"),c.kids(l.el,s.el),t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=new c.default;return t.text(e),t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),f=n(0),d=r(f),h=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.watching=e,r.count=o(d.default.get(e).length),r.count.classify("+checkerCount"),r.label=o(n),r.label.classify("+checkerCountLabel"),r.kids(r.count.el,r.label.el),r.classify("+checkerCountWrapper"),d.default.watch("checkers",r.update.bind(r)),r}return u(t,e),l(t,[{key:"update",value:function(){this.count.el.innerText=d.default.get(this.watching).length}}]),t}(c.default);t.default=h},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=new l.default("p").classify("stat").text(e),n=new l.default("span").classify("+statVal");return t.kids(n.el),t.val=function(e){return n.text(e)},t}function a(e,t){var n=(t.getTime()-e.getTime())/1e3,r=Math.abs(Math.round(n%60)),i=Math.abs(Math.round(n/60));return i=i<10?"0"+i:i,r=r<10?"0"+r:r,i+":"+r}function u(e){var t=e?"Well Played!":"You've Lost ...";p.val(c.default.get("respawns")),y.val(c.default.get("movesToWin")),g.val(a(c.default.get("gameStarted"),new Date)),d.text(t),f.classify("+show")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),l=r(o),s=n(0),c=r(s);n(33);var f=(new l.default).classify("+gameOver"),d=new l.default("p").classify("+gameOverText"),h=new l.default("hr").classify("divider"),v=new l.default("p").classify("+playAgain").text("Play Again"),p=i("Respawns:"),y=i("Turns Taken:"),g=i("Game Time:"),m=(new l.default).classify("+stats").kids(g.el,p.el,y.el);c.default.watch("youWon",u),f.onClick(".playAgain",function(){return window.location.reload()}),f.kids(d.el,h.el,m.el,h.el.cloneNode(),v.el),t.default=f},function(e,t){},function(e,t){}]);</script></body>

</html>
