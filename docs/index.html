<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">.view{width:100%}.topLevelView{height:100%;padding:4vh}.fadeIn,.fadeOut{transition:opacity .4s 30ms}.fadeInStart,.fadeOut{opacity:0}.fadeIn{opacity:1}.menu a{display:block;cursor:pointer;position:relative}p{margin:0}.titleText{font-size:1.666em}.subtitleText{font-weight:700;text-transform:uppercase}.labelText{font-size:1.25vh;text-transform:uppercase}#tactics{display:flex;position:absolute;left:4vh;bottom:4vh;width:auto;white-space:nowrap;transform:translateZ(0);transition:opacity .5s .5s,transform .5s .5s}#squadAction{background:#337933 radial-gradient(circle at center,transparent,rgba(0,0,0,.333));height:8vh;line-height:8vh;padding:0 8vh 0 4vh;border-radius:1vh;cursor:pointer}#squadAction:after{content:"";display:block;width:2vh;height:2vh;position:absolute;right:3vh;top:3vh;transform:rotate(-45deg);background:linear-gradient(45deg,#fff,#fff 35%,transparent 0,transparent 65%,#fff 0)}#squadAction.disabled{background:linear-gradient(0deg,rgba(0,0,0,.3),rgba(0,0,0,.5));cursor:default}#tacticsMenu{position:absolute;left:-500%;bottom:0;padding:1vh 0;background:#333;width:30vh;line-height:8vh;text-align:center;border-radius:1vh;z-index:-1;opacity:0;transform:scale3d(.8,.8,1);transition:z-index 1ms .24s,opacity .24s,transform .24s ease-in-out}#tacticsMenu .disabled{color:#666;cursor:default}#cancel{border-top:1px solid #fff}.showMenu #tacticsMenu{left:0;z-index:5;opacity:1;transform:scaleX(1);transition:z-index 1ms,opacity .24s 5ms,transform .24s ease-in-out 5ms}.checkerSelect #tactics{opacity:0;transform:translate3d(-100%,0,0)}#cameraControls{display:flex;justify-content:space-between;width:20vh;position:absolute;right:4vh;bottom:4vh;padding-top:7vh;transform:translateZ(0);transition:opacity .5s .5s,transform .5s .5s}#cameraControls a{width:6vh;height:6vh;line-height:5.9vh;text-align:center;border-radius:50%;background:#337933 radial-gradient(circle at center,transparent,rgba(0,0,0,.333));font-size:3vh}#camUp{position:absolute;left:50%;top:0;margin-left:-3vh;transform:rotate(90deg)}#camDefault{transform:rotate(-90deg)}.checkerSelect #cameraControls{opacity:0;transform:translate3d(100%,0,0)}.checker{position:absolute;left:0;right:0;z-index:1;display:block;transition:opacity .45s,transform .45s ease-in-out .18s,background-color .27s;border-radius:50%;background-color:#494949;background-image:radial-gradient(circle at center,transparent,rgba(0,0,0,.333));box-shadow:0 .5vh .066vh #191919;will-change:transform,opacity,background-color}.king{border:1vh solid #ea0;margin-top:.3vh!important}.hostile{background-color:#933;box-shadow:0 .5vh .066vh #300}.checkerSelect .checker{opacity:.25}.checkerSelect .playable-checker{opacity:1;cursor:pointer;transition:box-shadow .27s ease-in-out,background-color .27s}.checkerSelect .playable-checker:hover{background-color:#393}#board{display:flex;flex-wrap:wrap;position:absolute;width:100vh;height:100vh;left:0;top:0;transition:transform .81s ease-in-out;will-change:transform}.tile{position:relative;display:block;xbackground-color:#234;background-image:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,.2));box-shadow:0 0 5vh rgba(0,0,0,.2)}@keyframes flare{0%{box-shadow:inset 0 0 4vh transparent}35%{box-shadow:inset 0 -3vh 12vh #393}70%{box-shadow:inset 0 -3vh 12vh #393}to{box-shadow:inset 0 0 4vh transparent}}.availableMove{cursor:pointer;animation-name:flare;animation-duration:3s;animation-iteration-count:infinite}#counts{position:absolute;left:50%;bottom:4vh;display:flex;width:38vh;height:8vh;line-height:8vh;margin-left:-18vh;xfont-size:3vw;padding:0 4vh;background:linear-gradient(0deg,rgba(0,0,0,.5),rgba(0,0,0,.7));border-radius:1vh;opacity:1;transform:translateZ(0);transition:opacity .5s .5s,transform .5s .5s}.countsText{flex-basis:1}.allies{text-align:right}.separator{border-left:1px solid #fff}#allyCount,#hostileCount{flex-basis:2;padding:0 2vh}#allyCount{padding-right:3vh}#hostileCount{text-align:right;padding-left:3vh}.checkerSelect #counts{opacity:0;transform:translate3d(0,100%,0)}#gameOver{position:fixed;left:0;top:0;width:100vw;height:100vh;transform:translateZ(0);z-index:-50}#gameOver.show{z-index:50;background:rgba(0,0,0,.6) linear-gradient(0deg,transparent,rgba(0,0,0,.4))}#gameOverText,#playAgain{text-align:center;opacity:0}#gameOverText{margin-top:18vh;font-size:8vh;transform:translate3d(0,7vh,0);transition:transform 2.4s cubic-bezier(0,.6,.85,1),opacity .9s ease-in-out}#playAgain{display:block;width:21vh;height:8vh;margin:5vh auto 0;background:#337933 radial-gradient(circle at center,transparent,rgba(0,0,0,.333));line-height:8vh;border-radius:1vh;cursor:pointer;transform:scale3d(.9,.9,1);opacity:0;transition:transform .32s ease-in-out 1.4s,opacity .32s 1.4s}.show #gameOverText{opacity:1;transform:translateZ(0)}.show #playAgain{opacity:1;transform:scaleX(1)}.notice{display:inline-block;width:auto;height:8vh;line-height:8vh;border-radius:1vh;background:linear-gradient(0deg,rgba(0,0,0,.5),rgba(0,0,0,.7));position:absolute;left:4vh;top:4vh;padding:0 4vh;opacity:0;z-index:-100;transform:translate3d(-10vh,0,0);transition:opacity .36s,transform .36s ease-in-out,z-index 0ms .37s}.checkerSelect #checkerSelect,.noAvailableMoves #noAvailableMoves{opacity:1;z-index:50;transform:translateZ(0);transition:opacity .36s 10ms,transform .36s ease-in-out 10ms,z-index 0ms}*{box-sizing:border-box}body{margin:0;padding:0;width:100vw;background:#f0fcf9;background-image:linear-gradient(20deg,rgba(0,0,0,.2),transparent,rgba(0,0,0,.15)),linear-gradient(60deg,rgba(0,0,0,.15),transparent,rgba(0,0,0,.3),transparent);color:#fff;font-family:sans-serif;font-size:2.5vh}#viewport,body{height:100vh;overflow:hidden}#viewport{position:relative;width:100vh;margin:0 auto}</style></head>

<body>
<script type="text/javascript">!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){function i(e){return"function"==typeof e}function a(e){return i(o[e])}Object.defineProperty(t,"__esModule",{value:!0});var r={},o={};t.default={get:function(){var e=this,t=Array.from(arguments),n={},a=function(t){return i(t)?t.bind(e)():t};if(1===t.length){var r=o[t[0]];return a(r)}return t.map(function(e){var t=o[e];n[e]=a(t)}),n},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e),i=[];n.map(function(n){if(a(n))console.warn("'"+n+"' is a derived property and can not be explicitly set.");else if(o[n]=e[n],r[n]&&!1===t){var u=r[n].map(function(t){return{action:t,value:e[n]}});i=i.concat(u)}}),i.map(function(e){return e.action(e.value)})},watch:function(e,t){if(a(e))return void console.warn("'"+e+"' is a derived property and can not be watched.");r[e]||(r[e]=[]),r[e].push(t)}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(4),s=i(c),f=n(9),d=i(f);n(10);var v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=e.nodeName,i=a(e,["nodeName"]);n=n||"div";var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return u.attribute(i),u.classify("+view"),u}return u(t,e),l(t,[{key:"onClick",value:function(e,t){return this.clickHandler||(this.clickHandler=new d.default(this.el)),this.clickHandler.onClick(e,t)}},{key:"fadeIn",value:function(e){var t=this,n=function n(i){!1!==i.target.isEqualNode(t.el)&&(t.el.removeEventListener("transitionend",n),t.classify("-fadeIn -fadeInStart"),e&&e())};return this.el.addEventListener("transitionend",n),this.classify("+fadeInStart"),setTimeout(function(){return t.classify("+fadeIn")},10),this.el}},{key:"fadeOut",value:function(e){var t=this,n=function n(i){!1!==i.target.isEqualNode(t.el)&&(t.el.removeEventListener("transitionend",n),t.classify("-fadeOut"),t.destructor(),e&&e())};this.el.addEventListener("transitionend",n),this.classify("+fadeOut")}}]),t}(s.default);t.default=v},function(e,t,n){function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return void console.warn("Can not make an element without a nodeName; "+e+" given.");var n=t.className,a=i(t,["className"]),o=new r.default(e);return o.classify(n),o.attribute(a),o}},function(e,t,n){function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l);n(12);var s=function(e){function t(e){a(this,t);var n=e.text,o=e.variant,u=i(e,["text","variant"]),l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign(u,{nodeName:"p"})));return n&&l.print(n),o&&l.classify("+"+o+"Text"),l}return o(t,e),u(t,[{key:"print",value:function(e){this.el.innerText=e}}]),t}(c.default);t.default=s},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){if(i(this,e),!t)return console.warn("Can not instantiate new El() with a nodeName;",t),null;this.el=document.createElement(t)}return a(e,[{key:"destructor",value:function(){this.el.parentNode.removeChild(this.el)}},{key:"classify",value:function(e){var t=this;e&&e.split(" ").map(function(e){var n=e.charAt(0),i=e.substr(1,e.length);"-"===n?t.el.classList.remove(i):"~"===n?t.el.classList.toggle(i):"+"===n?t.el.classList.add(i):t.el.classList.add(e)})}},{key:"attribute",value:function(e){var t=this;Object.keys(e).map(function(n){t.el[n]=e[n]})}},{key:"kids",value:function(){var e=this;Array.from(arguments).map(function(t){e.el.appendChild(t)})}},{key:"gut",value:function(){for(;this.el.lastChild;)this.el.removeChild(this.el.lastChild)}},{key:"style",value:function(e){var t=this;Object.keys(e).map(function(n){t.el.style[n]=e[n]})}},{key:"onTrans",value:function(e){var t=this,n=function n(i){var a=i.target,r=a.isEqualNode(t.el),o=a.classList.contains("transitioning");r&&!o&&(t.el.removeEventListener("transitionend",n),e())};this.el.addEventListener("transitionend",n)}},{key:"onAnim",value:function(e){var t=this,n=function n(i){i.target.isEqualNode(t.el)&&(t.el.removeEventListener("animationend",n),e())};this.el.addEventListener("animationend",n)}}]),e}();t.default=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=this.el.querySelector(".active");t&&t.classList.remove("active"),e.target.classList.add("active"),this.onSelect&&this.onSelect(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),f=i(s),d=n(1),v=i(d);n(11);var p=function(e){function t(e){r(this,t);var n=e.options,i=e.className,u=e.onSelect,c=a(e,["options","className","onSelect"]);i=i?i+" menu":"menu",c.className=i;var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c));return s.menuOptions=[],n&&s.renderOptions(n),s.onSelect=u,s.onClick(".menuOption",l.bind(s)),s}return u(t,e),c(t,[{key:"renderOptions",value:function(e){var t=this;this.gut(),e.map(function(e){var n=e.active,i=a(e,["active"]),r=(0,f.default)("a",i);r.classify("+menuOption"),n&&r.classify("+active"),t.menuOptions.push(r),t.kids(r.el)})}}]),t}(v.default);t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return"translate3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"vh, "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"vh, "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+"vh)"},a=function(){return"rotateX("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},r=function(){return"rotateY("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},o=function(){return"rotateZ("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},u=function(e){return"perspective("+e+"vh)"},l=function(){return"scale3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+", "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)+")"};t.translate3d=i,t.rotateX=a,t.rotateY=r,t.rotateZ=o,t.perspective=u,t.scale3d=l},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=function(){v.appendChild(e.fadeIn()),p=e};p?p.fadeOut(t):t()}function r(e){switch(e){case"titleScreen":a(u.default);break;case"play":a(c.default)}}var o=n(8),u=i(o),l=n(13),c=i(l),s=n(0),f=i(s);n(29);var d=document,v=d.createElement("main");v.id="viewport";var p=u.default;f.default.watch("view",r),v.appendChild(c.default.el),d.body.appendChild(v)},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e){d.default.set({view:e.target.id})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),u=n(5),l=i(u),c=n(3),s=i(c),f=n(0),d=i(f),v=new o.default({id:"titleScreen",className:"titleScreen topLevelView"}),p=new l.default({className:"titleMenu",id:"titleMenu",onSelect:a,options:[{id:"play",text:"Play"}]}),h=new s.default({id:"titleText",text:"Check Yourself",variant:"title"});v.kids(h.el,p.el),t.default=v},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=this;e.preventDefault();var n=e.target,i=Object.keys(this.actions);i&&i.map(function(i){n.matches(i)&&t.actions[i].map(function(t){return t(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){if(i(this,e),!t||"object"!==(void 0===t?"undefined":r(t)))return void console.warn("A wrapperEl must be provded to a click-handler: "+t);this.actions={},t.addEventListener("click",a.bind(this))}return o(e,[{key:"onClick",value:function(e,t){this.actions[e]||(this.actions[e]=[]),this.actions[e].push(t)}}]),e}();t.default=u},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e?b.classify("+checkerSelect"):b.classify("-checkerSelect")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),u=n(0),l=i(u),c=n(14),s=i(c),f=n(16),d=i(f),v=n(18),p=i(v),h=n(22),y=i(h),m=n(24),g=i(m);n(26),n(28);var b=new o.default({id:"play",className:"play topLevelView checkerSelect"}),w=new o.default({id:"checkerSelect",innerText:"Select your checker.",className:"notice"}),_=new o.default({id:"noAvailableMoves",innerText:"No available moves. Choose an Ally Action.",className:"notice"});l.default.watch("checkerSelect",a),l.default.watch("noPlayerMoves",function(e){e?b.classify("+noAvailableMoves"):b.classify("-noAvailableMoves")}),b.kids(p.default.el,d.default.el,s.default.el,y.default.el,g.default.el,w.el,_.el),t.default=b},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=p.default.get("playerHasJump"),t=p.default.get("allyHasJump");t&&!e||e&&!t?g.classify("+disabled"):(g.print(y),g.classify("-disabled"))}function r(e){e.preventDefault(),e.target.classList.contains("disabled")||m.classify("+showMenu")}function o(){m.classify("-showMenu")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=i(u),c=n(5),s=i(c),f=n(3),d=i(f),v=n(0),p=i(v);n(15),p.default.set({allyAction:null});var h=[{id:"aggressive",text:"Be Aggressive",className:"disabled"},{id:"defensive",text:"Play it Safe",className:"disabled"},{id:"protectMe",text:"Protect Me",className:"disabled"},{id:"random",text:"Go Random!"},{id:"cancel",text:"Cancel"}],y="Ally Action",m=new l.default({id:"tactics"}),g=new d.default({id:"squadAction",text:y}),b=new s.default({id:"tacticsMenu",options:h,onSelect:function(e){var t=e.target.id;if(!e.target.classList.contains("disabled"))return"cancel"===t?void m.classify("-showMenu"):void p.default.set({allyAction:e.target.id})}});p.default.watch("allyAction",o),p.default.watch("playerHasJump",a),p.default.watch("allyHasJump",a),p.default.watch("isTurn",function(){return m.classify("-showMenu")}),m.onClick("#squadAction",r),m.kids(g.el,b.el),t.default=m},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t-e*n}function r(e){c.default.set({perspective:e.target.id})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=i(o),l=n(0),c=i(l);n(17),c.default.set({perspective:"camDefault",focusX:0,focusY:0,camSelectable:function(){var e=this.get("camDefault"),t=this.get("tileSize"),n=this.get("columns")/2,i=n+1,r=(n-1)*t;return Object.assign({},e,{perspective:150,rotateX:45,moveX:0,moveY:a(i,r,t),scaleX:.9,scaleY:.9})},camDefault:function(){var e=this.get("tileSize"),t=this.get("scaling"),n=this.get("columns")/2,i=n*e-e/2,r=(n-.5)*e;return{perspective:100,rotateX:60,rotateZ:0,moveX:a(this.get("focusX"),i,e),moveY:a(this.get("focusY"),r,e),moveZ:0,scaleX:t,scaleY:t,scaleZ:1}},camLeft:function(){var e=this.get("camDefault"),t=this.get("tileSize");return Object.assign({},e,{rotateX:55,rotateZ:35,moveX:e.moveX+t,moveY:e.moveY-t})},camRight:function(){var e=this.get("camDefault"),t=this.get("tileSize");return Object.assign({},e,{rotateX:55,rotateZ:-35,moveX:e.moveX-t,moveY:e.moveY-t})},camUp:function(){var e=this.get("camDefault"),t=this.get("tileSize"),n=this.get("scaling");return Object.assign({},e,{rotateX:40,moveY:e.moveY-2*t,scaleX:.5*n,scaleY:.5*n})},camOverview:function(){var e=this.get("camDefault"),t=this.get("tileSize"),n=this.get("scaling");return Object.assign({},e,{rotateX:55,moveY:e.moveY-t,scaleX:.7*n,scaleY:.7*n})}},!0);var s=[{id:"camRight",innerHTML:"&laquo;"},{id:"camDefault",innerHTML:"&laquo;"},{id:"camLeft",innerHTML:"&raquo;"},{id:"camUp",innerHTML:"&laquo;"}],f=new u.default({id:"cameraControls",options:s,onSelect:r});t.default=f},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=h.default.get("perspective"),t=h.default.get(e),n=[(0,g.perspective)(t.perspective),(0,g.rotateX)(t.rotateX),(0,g.rotateZ)(t.rotateZ),(0,g.scale3d)(t.scaleX,t.scaleY,t.scaleZ),(0,g.translate3d)(t.moveX,t.moveY,t.moveZ)];b.style({transform:n.join(" ")})}function r(){var e=h.default.get("allies");setTimeout(function(){e.map(function(e){return e.classify("+playable-checker")})},50),h.default.set({perspective:"camSelectable"})}function o(e){var t=h.default.get("allies"),n=t.filter(function(t){return t.el.isEqualNode(e.target)})[0];t.map(function(e){e.classify("-playable-checker")}),n.classify("+player-checker"),n.isPlayer=!0;var i=n.x,a=n.y;h.default.set({focusX:i,focusY:a,playerX:i,playerY:a,isTurn:!0,lives:h.default.get("lives")-1,checkerSelect:!1}),setTimeout(function(){h.default.set({perspective:"camDefault"})},120)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return void l();e.map(function(e){var t=e.toX,n=e.toY;document.getElementById("x"+t+"-y"+n).classList.add("availableMove")})}function l(){Array.from(document.querySelectorAll(".availableMove")).map(function(e){return e.classList.remove("availableMove")})}function c(e){var t=e.target,n=t.id.split("-"),i=parseInt(n[0].replace("x",""),10),a=parseInt(n[1].replace("y",""),10),r=h.default.get("playerActions").filter(function(e){return e.toX===i&&e.toY===a})[0];h.default.set({playerAction:r})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),f=i(s),d=n(19),v=i(d),p=n(0),h=i(p),y=n(2),m=i(y),g=n(6);n(21),h.default.set({columns:8,scaling:4,occupied:[[],[],[],[],[],[],[],[]],tileSize:function(){return 100/this.get("columns")},checkerSize:function(){return.75*this.get("tileSize")},checkerMargin:function(){return(this.get("tileSize")-this.get("checkerSize"))/2},playerChecker:function(){var e=this.get("allies").filter(function(e){return e.isPlayer});return e.length>0?e[0]:null},allies:function(){var e=[];return this.get("occupied").map(function(t){e=e.concat(t.filter(function(e){return e&&!e.isHostile}))}),e},hostiles:function(){var e=[];return this.get("occupied").map(function(t){e=e.concat(t.filter(function(e){return e&&e.isHostile}))}),e}},!0);var b=new f.default({id:"board"});h.default.watch("perspective",a),h.default.watch("playerActions",u),h.default.watch("focusX",a),h.default.watch("checkerSelect",function(e){e&&r()}),b.onClick(".playable-checker",o),b.onClick(".availableMove",c),h.default.set({perspective:"camSelectable",board:b}),function(){b.gut();for(var e=h.default.get("columns"),t=e*e/2,n=0,i=0,a=h.default.get("tileSize"),r=["width:"+a+"vh;","height:"+a+"vh;","margin-left:"+a+"vh;"],o=[],u=0;u<t;u++){n>=e&&(i++,n=i%2);var l=(0,m.default)("span",{id:"x"+n+"-y"+i,className:"tile",style:r.join("")});if(i<3||i>4){var c=i<3,s=new v.default({x:n,y:i,isHostile:c});b.kids(s.el),o[n]=o[n]||[],o[n][i]=s}0===n&&i%2==0&&(l.el.style.marginLeft=0),b.kids(l.el),n+=2}h.default.set({occupied:o})}(),t.default=b},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=p.default.get("checkerSize");return{width:e+"vh",paddingBottom:e+"vh",margin:p.default.get("checkerMargin")+"vh"}}function c(e){for(var t=p.default.get("board"),n=Math.floor(16*Math.random()+10),i=[];n--;){var a=e.el.cloneNode(),r=Math.floor(50*Math.random()+10),o=Math.floor(50*Math.random()+10),u=(0,h.translate3d)(r,o),l=["opacity 1200ms ease-out","transform 1200ms cubic-bezier(0,1,1,0.75)"];t.kids(a),a.style.transition=l.join(","),i.push({pixel:a,transform:u+" scale3d(0.2, 0.2, 1)"})}e.destructor();var c=i[i.length-1].pixel;c.addEventListener("transitionend",function e(){for(var t=void 0;t=i.pop();)t.pixel.parentNode.removeChild(t.pixel);c.removeEventListener("transitionend",e)}),i.map(function(e){setTimeout(function(){e.pixel.style.opacity=0,e.pixel.style.transform=e.transform},0)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=n(4),d=i(f),v=n(0),p=i(v),h=n(6);n(20);var y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"i")),i=e.isHostile,u=e.x,c=e.y,s=a(e,["isHostile","x","y"]),f="checker";return f+=i?" hostile":" playable-checker",n.attribute(Object.assign(s,{className:f})),n.style(l()),n.position(u,c),n.isKing=!1,n.isPlayer=!1,n.isHostile=i,n}return u(t,e),s(t,[{key:"isJump",value:function(e){return Math.abs(e-this.x)>1}},{key:"getUpLeft",value:function(){return{x:this.x-1,y:this.y-1}}},{key:"getUpRight",value:function(){return{x:this.x+1,y:this.y-1}}},{key:"getDownRight",value:function(){return{x:this.x+1,y:this.y+1}}},{key:"getDownLeft",value:function(){return{x:this.x-1,y:this.y+1}}},{key:"position",value:function(e,t){var n=p.default.get("tileSize"),i=e*n,a=t*n;this.isJump(e)?(this.justJumped=!0,this.style(function(){return console.log("Jump animation! Work this out ..."),{transform:[(0,h.translate3d)(i,a)].join(" ")}}())):(this.justJumped=!1,this.style({transform:(0,h.translate3d)(i,a)})),this.x=e,this.y=t}},{key:"remove",value:function(){var e=this,t=p.default.get("tileSize"),n=this.x*t,i=this.y*t,a=[(0,h.translate3d)(n,i),(0,h.scale3d)(.2,.2)];this.onTrans(function(){return c(e)}),this.style({transform:a.join(" ")})}}]),t}(d.default);t.default=y},function(e,t){},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return d.default.get(e).length}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),u=n(3),l=i(u),c=n(2),s=i(c),f=n(0),d=i(f);n(23);var v=new o.default({id:"counts"}),p=new l.default({className:"countsText allies",text:"Allies"}),h=new l.default({className:"countsText hostiles",text:"Hostiles"}),y=new l.default({id:"allyCount",innerText:a("allies")}),m=new l.default({id:"hostileCount",innerText:a("hostiles")}),g=(0,s.default)("span",{className:"separator"});d.default.watch("isTurn",function(){y.print(d.default.get("allies").length),m.print(d.default.get("hostiles").length)}),v.kids(p.el,y.el,g.el,m.el,h.el),t.default=v},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e?"Well Played!":"You've Lost ...";p.print(t),v.fadeIn(),setTimeout(function(){return v.classify("+show")})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),u=n(3),l=i(u),c=n(2),s=i(c),f=n(0),d=i(f);n(25);var v=new o.default({id:"gameOver"}),p=new l.default({id:"gameOverText"}),h=(0,s.default)("a",{id:"playAgain",text:"Play Again"});d.default.watch("youWon",a),v.onClick("#playAgain",function(){return window.location.reload()}),v.kids(p.el,h.el),t.default=v},function(e,t){},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=k.default.get("columns"),i=function(e){return e>-1&&e<n};return i(e)&&i(t)}function r(e,t){return k.default.get("occupied")[e][t]}function o(e,t){return a(e,t)&&!r(e,t)}function u(){k.default.set({isTurn:!k.default.get("isTurn")})}function l(){M=[],k.default.set({playerActions:[],noPlayerMoves:!1})}function c(e){var t=e.checker,n=e.toY,i=t.isHostile&&7===n,a=!t.isHostile&&0===n;(i||a)&&(t.isKing=!0,t.classify("king"))}function s(e,t){var n=k.default.get("occupied"),i=n[e][t];n[e][t]=!1,i.remove()}function f(e){e[0].checker.isPlayer?k.default.set({playerActions:e}):(M=e,w())}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"camDefault";k.default.set({focusX:e,focusY:t,perspective:n})}function v(e){var t=k.default.get("board"),n=e.checker,i=e.fromX,a=e.fromY,r=e.jumpedX,o=e.jumpedY,v=e.toX,h=e.toY,m=k.default.get("occupied"),g=void 0,b=void 0,w=void 0;b=function(){d(v,h),n.position(v,h),m[v][h]=n,m[i][a]=!1,r&&(s(r,o),w=y(n,p(n))),g=w&&w.length>0?function(){f(w)}:function(){c(e),u()},n.onTrans(g)};var _=n.x===k.default.get("focusX"),O=n.y===k.default.get("focusY");l(),_&&O?b():(t.onTrans(b),d(n.x,n.y,"camOverview"))}function p(e){var t=e.getUpLeft(),n=e.getUpRight(),i=e.getDownRight(),r=e.getDownLeft(),o=[];return e.isKing?o.push(a(t.x,t.y)&&t,a(n.x,n.y)&&n,a(i.x,i.y)&&i,a(r.x,r.y)&&r):e.isHostile?o.push(a(i.x,i.y)&&i,a(r.x,r.y)&&r):o.push(a(t.x,t.y)&&t,a(n.x,n.y)&&n),o.filter(function(e){return e})}function h(e,t){var n=[];return t.map(function(t){var i=t.x,a=t.y;o(i,a)&&n.push({checker:e,fromX:e.x,fromY:e.y,toX:i,toY:a})}),n}function y(e,t){var n=k.default.get("occupied"),i=[];return t.map(function(t){var o=t.x,u=t.y;if(a(o,u)&&r(o,u)){if(n[o][u].isHostile!==e.isHostile){var l=o-e.x,c=u-e.y,s=o+l,f=u+c;a(s,f)&&!r(s,f)&&i.push({checker:e,fromX:e.x,fromY:e.y,toX:s,toY:f,jumpedX:o,jumpedY:u})}}}),i}function m(e){var t=p(e),n=y(e,t);return n.length>0?n:h(e,t)}function g(e){var t=[],n=[];return e.map(function(e){m(e).map(function(e){e.jumpedX?n.push(e):t.push(e)})}),n.length>0?n:t}function b(){var e=k.default.get("hostiles"),t=g(e);if(0===t.length)return void k.default.set({youWon:!0});v((0,j.default)(t))}function w(){v((0,j.default)(M))}function _(){var e=k.default.get("playerChecker"),t=k.default.get("allies");if(!e){var n=k.default.get("lives"),i={checkerSelect:!0};return 0!==n&&0!==t.length||(i.youWon=!1),void k.default.set(i)}var a=[];if(g(t).map(function(e){(e.checker.isPlayer?a:M).push(e)}),0===a.length&&0===M.length)return void k.default.set({youWon:!1});if(0===a.length&&M.length>1&&!M[0].jumpedX&&k.default.set({noPlayerMoves:!0}),a.length>0||M.length>0){var r=e.isKing?"camUp":"camDefault";d(e.x,e.y,r)}var o=M[0]&&M[0].jumpedX,u=a[0]&&a[0].jumpedX,l={allyHasJump:o,playerHasJump:u,playerActions:a};o&&!u&&(l.playerActions=[]),k.default.set(l),0===a.length&&o&&w()}var O=n(0),k=i(O),x=n(27),j=i(x);k.default.set({isTurn:!1,playerHasJump:!1,allyHasJump:!1,playerActions:null,lives:99},!0);var M=[];k.default.watch("allyAction",w),k.default.watch("playerAction",v),k.default.watch("isTurn",function(e){e?_():b()}),k.default.set({checkerSelect:!0})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);!function(e){e&&e.__esModule}(i);t.default=function(e){return function(){var t=Math.floor(Math.random()*e.length);return e[t]}()}},function(e,t){},function(e,t){}]);</script></body>

</html>
